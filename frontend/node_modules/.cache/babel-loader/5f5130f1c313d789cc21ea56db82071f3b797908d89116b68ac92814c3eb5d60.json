{"ast":null,"code":"import React,{useState,useEffect}from'react';import'../App.css';import{baseUrl}from'../config/baseUrl';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StudentSearch=()=>{const[name,setname]=useState('');const[results,setResults]=useState([]);const fetchAllStudents=async()=>{const requestOptions={method:\"GET\",redirect:\"follow\"};fetch(\"/student/searchstudent\",requestOptions).then(response=>response.json()).then(result=>{// console.log(\"/////\",result)\nsetResults(result===null||result===void 0?void 0:result.students);}).catch(error=>console.error(error));};const handleSearch=async()=>{if(!name){fetchAllStudents();return;}const requestOptions={method:\"GET\",redirect:\"follow\"};fetch(\"\".concat(baseUrl,\"/student/searchstudent/\").concat(name),requestOptions).then(response=>response.json()).then(result=>{// console.log(\"???????\",result)\nsetResults(result===null||result===void 0?void 0:result.students);}).catch(error=>console.error(error));};useEffect(()=>{fetchAllStudents();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading-container\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"...StudenT FindeR...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search students by name\",value:name,onChange:e=>setname(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{children:results.length>0?/*#__PURE__*/_jsx(\"ul\",{children:results.map(student=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"student-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"student-name\",children:student===null||student===void 0?void 0:student.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"student-details\",children:[\"Email: \",student===null||student===void 0?void 0:student.email]}),/*#__PURE__*/_jsxs(\"span\",{className:\"student-details\",children:[\"Standard: \",student===null||student===void 0?void 0:student.std]}),/*#__PURE__*/_jsxs(\"span\",{className:\"student-details\",children:[\"Division: \",student===null||student===void 0?void 0:student.division]})]})},student._id))}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-message\",children:\"No students found.\"})})]});};export default StudentSearch;","map":{"version":3,"names":["React","useState","useEffect","baseUrl","jsx","_jsx","jsxs","_jsxs","StudentSearch","name","setname","results","setResults","fetchAllStudents","requestOptions","method","redirect","fetch","then","response","json","result","students","catch","error","console","handleSearch","concat","children","className","type","placeholder","value","onChange","e","target","onClick","length","map","student","email","std","division","_id"],"sources":["C:/Users/Home/student-finder/frontend/src/pages/StudentSearch.js"],"sourcesContent":["\r\nimport React, { useState, useEffect } from 'react';\r\nimport '../App.css';\r\nimport { baseUrl } from '../config/baseUrl'\r\n\r\nconst StudentSearch = () => {\r\n    const [name, setname] = useState('');\r\n    const [results, setResults] = useState([]);\r\n\r\n\r\n    const fetchAllStudents = async () => {\r\n\r\n        const requestOptions = {\r\n            method: \"GET\",\r\n            redirect: \"follow\"\r\n        };\r\n\r\n        fetch(`/student/searchstudent`, requestOptions)\r\n            .then((response) => response.json())\r\n            .then((result) => {\r\n                // console.log(\"/////\",result)\r\n                setResults(result?.students)\r\n            })\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n\r\n    const handleSearch = async () => {\r\n        if (!name) {\r\n            fetchAllStudents();\r\n            return;\r\n        }\r\n\r\n        const requestOptions = {\r\n            method: \"GET\",\r\n            redirect: \"follow\"\r\n        };\r\n\r\n        fetch(`${baseUrl}/student/searchstudent/${name}`, requestOptions)\r\n            .then((response) => response.json())\r\n            .then((result) => {\r\n                // console.log(\"???????\",result)\r\n                setResults(result?.students)\r\n            })\r\n            .catch((error) => console.error(error));\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        fetchAllStudents();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"heading-container\">\r\n                <h1>...StudenT FindeR...</h1>\r\n            </div>\r\n\r\n            <div className=\"search-container\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search students by name\"\r\n                    value={name}\r\n                    onChange={e => setname(e.target.value)}\r\n                />\r\n                <button onClick={handleSearch}>Search</button>\r\n            </div>\r\n\r\n            <div>\r\n                {results.length > 0 ? (\r\n                    <ul>\r\n                        {results.map(student => (\r\n                            <li key={student._id}>\r\n                                <div className=\"student-info\">\r\n                                    <span className=\"student-name\">{student?.name}</span>\r\n                                    <span className=\"student-details\">Email: {student?.email}</span>\r\n                                    <span className=\"student-details\">Standard: {student?.std}</span>\r\n                                    <span className=\"student-details\">Division: {student?.division}</span>\r\n                                </div>\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                ) : (\r\n                    <div className=\"empty-message\">\r\n                        No students found.\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StudentSearch;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}